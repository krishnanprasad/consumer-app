<div style="text-align: center; margin-bottom: 40px">
  <h3>Create Recipe</h3>
</div>

<div style="" class="container">
  <form
    [formGroup]="addRecipe"
    class="form-horizontal"
    (ngSubmit)="saveRecipe()"
  >
    <div class="form-group row mg-bt-20">
      <label for="influencerid" class="control-label col-sm-2"
        >Influencer ID</label
      >
      <div class="col-sm-10">
        <input
          type="text"
          placeholder="Incluencer ID"
          class="form-control"
          name="influencerid"
          formControlName="influencerid"
        />
      </div>
    </div>
    <div class="form-group row mg-bt-20">
      <label for="recipename" class="control-label col-sm-2">Title</label>
      <div class="col-sm-10">
        <input
          type="text"
          placeholder="Title of Recipe"
          class="form-control"
          name="recipename"
          formControlName="recipename"
        />
      </div>
    </div>
    <div class="form-group row mg-bt-20">
      <label for="duration" class="control-label col-sm-2">Duration</label>
      <div class="col-sm-10">
        <input
          type="text"
          placeholder="Duration Of Recipe"
          class="form-control"
          formControlName="duration"
        />
      </div>
    </div>
    <div class="form-group row mg-bt-20">
      <label for="cuisinetype" class="control-label col-sm-2">Cuisine</label>
      <div class="col-sm-10">
        <input
          type="text"
          placeholder="Cuisine Type"
          class="form-control"
          formControlName="cuisinetype"
        />
      </div>
    </div>
    <div class="form-group row mg-bt-20">
      <label for="videourl" class="control-label col-sm-2">Video URL</label>
      <div class="col-sm-10">
        <input
          type="text"
          placeholder="Video URL"
          class="form-control"
          formControlName="videourl"
        />
      </div>
    </div>

    <div class="form-group row mg-bt-20">
      <label for="type" class="control-label col-sm-2">Type</label>
      <div class="col-sm-10">
        <!-- <input
          type="text"
          placeholder="Video URL"
          class="form-control"
          formControlName="videourl"
        /> -->
        <select
          class="form-select"
          aria-label="Default select example"
          formControlName="type"
        >
          <option value="1">Veg</option>
          <option value="2">Non-Veg</option>
        </select>
      </div>
    </div>

    <div style="margin-top: 30px">
      <div>
        <span style="font-size: 18px; margin-right: 20px">Ingredients</span>
        <button
          type="button"
          class="btn btn-primary btn-sm"
          (click)="addIngredient()"
        >
          + Add Ingredient
        </button>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div
          class="row mg-bt-20"
          *ngFor="
            let ing of addRecipe.controls.ingredient.controls;
            let i = index
          "
          [formGroup]="ing"
        >
          <div class="col-md-2">
            <span># {{ i + 1 }}</span>
          </div>
          <div class="col-md-4">
            <input
              placeholder="Name of the Ingredient"
              name="ingredientName"
              class="form-control"
              formControlName="ingredientName"
            />
          </div>
          <div class="col-md-4">
            <input
              placeholder="Quantity"
              name="ingredientQuantity"
              class="form-control"
              formControlName="ingredientQuantity"
            />
          </div>
          <div class="col-md-2">
            <button
              type="button"
              class="btn btn-warning"
              (click)="removeIngredient(i)"
            >
              -
            </button>
          </div>
        </div>
        <!-- <div style="margin-top: 20px">
          <button
            type="button"
            class="btn btn-primary"
            (click)="addIngredient()"
          >
            + Add Ingredient
          </button>
        </div> -->
        <div class="text-center" style="margin-top: 10px">
          <button
            *ngIf="addRecipe.controls.ingredient.length > 0"
            type="button"
            class="btn btn-primary btn-sm"
            (click)="addIngredient()"
          >
            + Add Ingredient
          </button>
        </div>
      </div>
    </div>
    <div style="margin-top: 30px">
      <div>
        <span style="font-size: 18px; margin-right: 20px">Steps</span>
        <button
          type="button"
          class="btn btn-primary btn-sm"
          (click)="addStep()"
        >
          + Add Step
        </button>
      </div>
    </div>
    <div class="row">
      <!-- Steps -->
      <div class="col-md-12">
        <div
          class="row mg-bt-20"
          *ngFor="let ing of addRecipe.controls.steps.controls; let i = index"
          [formGroup]="ing"
        >
          <div class="col-md-2">
            <span># {{ i + 1 }}</span>
          </div>
          <div class="col-md-8">
            <input
              placeholder="Steps"
              name="steps"
              class="form-control"
              formControlName="steps"
            />
          </div>
          <div class="col-md-2">
            <button
              type="button"
              class="btn btn-warning"
              (click)="removeStep(i)"
            >
              -
            </button>
          </div>
        </div>
        <div class="text-center" style="margin-top: 10px">
          <button
            *ngIf="addRecipe.controls.steps.length > 0"
            type="button"
            class="btn btn-primary btn-sm"
            (click)="addStep()"
          >
            + Add Step
          </button>
        </div>
        <!-- <div style="margin-top: 20px">
          <button type="button" class="btn btn-primary" (click)="addStep()">
            + Add Step
          </button>
        </div> -->
      </div>
    </div>
    <hr class="mt-5 mb-5" />
    <div
      class="col-sm-12 text-center"
      style="margin-top: 20px; text-align: center"
    >
      <button
        type="button"
        (click)="ConfirmRecipe()"
        class="btn btn-warning"
        [disabled]="!addRecipe.valid"
      >
        Confirm Recipe
      </button>
      <button
        *ngIf="AddButtonActive"
        type="submit"
        class="btn btn-success"
        [disabled]="!addRecipe.valid && !AddButtonActive"
      >
        Add Recipe
      </button>
    </div>
  </form>
</div>
<!-- <pre>{{ addRecipe?.value | json }}</pre> -->
